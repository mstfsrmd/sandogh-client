{"ast":null,"code":"\"use strict\"; // Dependencies\n\nvar Typpy = require(\"typpy\");\n/**\n * Deffy\n * Computes a final value by providing the input and default values.\n *\n * @name Deffy\n * @function\n * @param {Anything} input The input value.\n * @param {Anything|Function} def The default value or a function getting the\n * input value as first argument.\n * @param {Object|Boolean} options The `empty` value or an object containing\n * the following fields:\n *\n *  - `empty` (Boolean): Handles the input value as empty field (`input || default`). Default is `false`.\n *\n * @return {Anything} The computed value.\n */\n\n\nfunction Deffy(input, def, options) {\n  // Default is a function\n  if (typeof def === \"function\") {\n    return def(input);\n  }\n\n  options = Typpy(options) === \"boolean\" ? {\n    empty: options\n  } : {\n    empty: false\n  }; // Handle empty\n\n  if (options.empty) {\n    return input || def;\n  } // Return input\n\n\n  if (Typpy(input) === Typpy(def)) {\n    return input;\n  } // Return the default\n\n\n  return def;\n}\n\nmodule.exports = Deffy;","map":{"version":3,"sources":["/home/mormad/Documents/sandogh/client/node_modules/deffy/lib/index.js"],"names":["Typpy","require","Deffy","input","def","options","empty","module","exports"],"mappings":"AAAA,a,CAEA;;AACA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,KAAT,CAAeC,KAAf,EAAsBC,GAAtB,EAA2BC,OAA3B,EAAoC;AAEhC;AACA,MAAI,OAAOD,GAAP,KAAe,UAAnB,EAA+B;AAC3B,WAAOA,GAAG,CAACD,KAAD,CAAV;AACH;;AAEDE,EAAAA,OAAO,GAAGL,KAAK,CAACK,OAAD,CAAL,KAAmB,SAAnB,GAA+B;AACrCC,IAAAA,KAAK,EAAED;AAD8B,GAA/B,GAEN;AACAC,IAAAA,KAAK,EAAE;AADP,GAFJ,CAPgC,CAahC;;AACA,MAAID,OAAO,CAACC,KAAZ,EAAmB;AACf,WAAOH,KAAK,IAAIC,GAAhB;AACH,GAhB+B,CAkBhC;;;AACA,MAAIJ,KAAK,CAACG,KAAD,CAAL,KAAiBH,KAAK,CAACI,GAAD,CAA1B,EAAiC;AAC7B,WAAOD,KAAP;AACH,GArB+B,CAuBhC;;;AACA,SAAOC,GAAP;AACH;;AAEDG,MAAM,CAACC,OAAP,GAAiBN,KAAjB","sourcesContent":["\"use strict\";\n\n// Dependencies\nvar Typpy = require(\"typpy\");\n\n/**\n * Deffy\n * Computes a final value by providing the input and default values.\n *\n * @name Deffy\n * @function\n * @param {Anything} input The input value.\n * @param {Anything|Function} def The default value or a function getting the\n * input value as first argument.\n * @param {Object|Boolean} options The `empty` value or an object containing\n * the following fields:\n *\n *  - `empty` (Boolean): Handles the input value as empty field (`input || default`). Default is `false`.\n *\n * @return {Anything} The computed value.\n */\nfunction Deffy(input, def, options) {\n\n    // Default is a function\n    if (typeof def === \"function\") {\n        return def(input);\n    }\n\n    options = Typpy(options) === \"boolean\" ? {\n        empty: options\n    } : {\n        empty: false\n    };\n\n    // Handle empty\n    if (options.empty) {\n        return input || def;\n    }\n\n    // Return input\n    if (Typpy(input) === Typpy(def)) {\n        return input;\n    }\n\n    // Return the default\n    return def;\n}\n\nmodule.exports = Deffy;"]},"metadata":{},"sourceType":"script"}